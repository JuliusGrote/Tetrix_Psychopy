# Config file for important game parameters
# Make sure file can be executed as a python script!
# Accessed by "game.py" where all important game mechanics are stored and processed (and regression.py for regression parameters).


## Pre-Trial

### If you want to use the "JND_regression", make sure that you have enough pretrial rounds, otherwise you the "curve_fit" function might not be able to estimate the function parameters!
### If you do not want to make use of the Pre-Trials, you can set it to  "None". Make sure to adjust the instruction in the "instructions.py" file! 
### --> The level for the "main_trials" is then set by the "Start_level" parameter in this file. Explanatory routines in "Tetrix_PsychoPy.psyexp" are skipped accordingly.
### Conversly, if you just want to use the paradigm as a behavioral experiment you can set "main_trials" to "None" in "config_paradigm_psychopy.txt".
### Default: >= 3 (normal) <-> >= 6 (regression, the more values the more precise the regression...)

#------
Pretrial_rounds = 3
#------

### Pretrial design: Staircase or Normal

### Staircase: each time you complete a level = level + 1, but if you lose in that level you start at: level = level * "Stair_factor". 
### If "Pretrial_staircase = True", staircase design is enabled, if "Pretrial_staircase = False", Pre-Trial levels are just the normal Tetris experience (each time you lose the game start at level 1).

#------
Pretrial_staircase = True
#------

### "Stair_factor" determines by which factor "game.level.value" drops each time a participant loses in the pretrials.
### Default: 2/3

#------
Stair_factor = 2/3
#------

### Restart Pre-Trial rounds from "Start_level" each "Restart_round" (only makes sense if "Pretrial_staircase = True").
### I.e. if you set Pretrial_rounds = 6 and Restart_round = 3, the level would start from "Start_level" in round 1 and then again in round 4. 
### If you want to disable this feature set "Restart_round" to "None".
### Default: None, but adjust for your desired design.

#------
Restart_round = None
#------

### JND Regression

### Based on a logistic regression the JND (Just Noticable Difference, here for the parameter "game.speed") is determined - at the JND "game.speed" the strongest neural activity is evoked (design adopted from Baker et al. 2018).
### After regression the level nearest to the JND is the new level for the "main_trials".
### If "Jnd_regression = False", level for "main_trials" will be determined by averaging!

#------
Jnd_regression = False
#------

### If "Jnd_regresssion == True": Regression range - how many levels should be included into the regression [level 1 -  level "Regression_range"]?
### Default: 15

#------
Regression_range = 15
#------

### Factor for "main_trials" level

### By which factor should "game.level_for_main" (the level calculated in the "pretrials" either by averaging or regression) be multiplied to get the base level used in the "main_trials" ("game.level")?
### Default: 0.75; Note: If you use averaging to determine "game.level_for_main" then this value should be lower compared to regression, since the regression calculates where subjects fail 50% of the time, while the averaging calculates the mean level at which they fail! 

#------
Level_for_main_factor = 0.75
#------


## General Level Design

### Determines at which level to start.
### Overwritten if you use the "Pretrial_Rounds" setting, but if "Pretrial_rounds = None" this sets the "game.level" for the "main_trials" in "Tetrix_PsychoPy.psyexp".
### Default: 1

#------
Start_level = 1
#------

### Determines how many lines need to be cleared in order to reach the next level.
### Default = 3, the more the harder the level progression gets!

#------
Lines_for_levelup = 3
#------

### Do you want to enable the level progression for the "pretrial"?
### Default: True

#------
Level_progression_pre = True
#------

### Do you want to keep the level progression for the "main_Trials"?
### Should be "False" if you want to use "Comp_speed" in "config_paradigm_psychopy.txt"!
### Default: False

#------
Level_progression_main = False
#------


# Game speed

## Speed in "ms/line" in the grid: time that a Tetris-block  needs to move down one cell on the grid, correlates to game difficulty.
## Speed per level described by this formula in "ms": self.speed = round((Start_speed/1250 - ((level - 1) * Speed_slope)) ** (level - 1) * 1000) mimicking the original Tetris game physics.

### Start_speed determines how fast game difficulty progresses. 
### Default: 1000 

#------
Start_speed = 1000
#------

### Speed_slope also determines how fast the game progresses... 
### Default: 0.007

#------
Speed_slope = 0.007 
#------


## Randomizer

### Should a seed for the randomizer be used to generate:

### 1. Movements of visual control (watch_Tetris) so that the movements are the same for each participant/each time running the experiment? 
### Default: None; if you want to use that function set "visual_seed" to any number.

#------
Visual_seed = 1
#------

### 2. The Tetris-block that is chosen each time a new Tetris-block is needed so that the choice is the same for each participant/each time running the experiment? 
### Default: None; if you want to use that function set "block_seed" to any number.

#------
Block_seed = 1
#------


## Game Over

### Should the score be kept after "game_over"?

#------
Keep_score = True
#------

### Should the game restart automatically after "game_over"?
### Default and recommended: True

#------
Restart_automatically = True
#------


## Controls

### Down

### Do you want to add an "accelerated" downwards movement?
### By default, a set key press moves the Tetris-block one cell.
### Additionally - if "Accelerate_down = True" -  if the Key is held down or pressed again (depending on options below), the Tetris-block moves down automatically and with increased speed over time.
### Default: True, if you disable that option, you might want to change the "explain_controls.png" overview in the "Images/" folder as well.

#------
Accelerate_down = True
#------

### Which type of key control should be used for the "move_down()" function?
### Accelerate_type = "hold" means that the key needs to be held down to accelerate the downwards movement.
### "drop" means that the key needs to be pressed only once to accelerate the downwards movement and cannot be stopped until the Tetris-block reaches the bottom.
### Default: "hold", yet some response boxes are not able to detect key holding, because they are optimized for reaction time measurements, so you might want to change to "drop".

#------
Accelerate_type = "hold"
#------

### If you use "Accelerate_down = True" at which "Down_Interval" (in sec) Interval should the time in between two "move_down()" movements start?
### Default = 0.1 (the higher the longer it takes for the down movement and acceleration)
 
#------
Down_interval = 0.05
#------

### If you use "Accelerate_down = True" by which factor should the time in between "move_down()" movements be decreased per iteration?
### Default: 0.6 - for exponential speed increase it should be between 0 and 1 (the lower the faster)

#------
Down_factor = 1
#------

### What should be the cutoff for the maximum speed (in sec) - max "1/60" (Iterations per second of the game loop)?
### Default = 1/45 (the lower the faster)

#------
Cutoff_down = 1/45
#------


## Pause handling

### Determines whether game/"Tetris_Instance()" (in "tetris_instance.py") starts paused or not.
### Default and strongly recommended for "Tetrix_PsychoPy.psyexp": True

#------
Start_Pause = True
#------


## GUI

### Determines whether game starts in fullscreen or not
### Default: False 
### Overwritten, if you use the "Tetrix_PsychoPy" Experiment!

#------
Start_Fullscreen = False
#------

### Invisible "next" Tetris-blocks in "Visual_control"
### Should the next Tetris-blocks be visible during the visual control condition? (decrease visual stimulus load of the control condition)
### Default: True


#------
Hide_next_visual = True
#------

### Should there be three "next" Tetris-blocks instead of one on the screen?
### If you enabled the "toggle_wm_load" option in the "config_paradigm_psyhopy.txt", this option here only relates to the "Pre-Trials"
### With reference to the current Tetris mobile app and online game, in "marathon mode", there are three "next" Tetris-blocks and in the "level mode" there is only one "next" Tetris-block.

#------
Toggle_three_next_blocks = True
#------